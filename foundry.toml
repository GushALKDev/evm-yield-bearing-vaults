[profile.default]
src = "src"
out = "out"
libs = ["lib"]
solc_version = "0.8.26"
evm_version = "cancun"
optimizer = true
optimizer_runs = 200

[rpc_endpoints]
mainnet = "${ETHEREUM_MAINNET_RPC}"

[invariant]
runs = 256
depth = 50
fail_on_revert = false
shrink_run_limit = 5000

# Fork invariant testing profile with reduced parameters to avoid RPC rate limiting
# Usage: INVARIANT_USE_FORK=true forge test --match-path "test/invariant/*.t.sol" --profile fork-invariant
[profile.fork-invariant]
src = "src"
out = "out"
libs = ["lib"]
solc_version = "0.8.26"
evm_version = "cancun"
optimizer = true
optimizer_runs = 200

[profile.fork-invariant.invariant]
runs = 20
depth = 10
fail_on_revert = false
shrink_run_limit = 1000
